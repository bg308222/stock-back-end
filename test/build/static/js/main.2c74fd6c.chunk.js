(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r,c,a,i=n(0),s=n.n(i),u=n(22),o=n.n(u),l=(n(29),n(6)),p=n(2),d=n.n(p),f=n(13),b=n(5),x=(n(31),n(8)),j=n.n(x),O=n(1);!function(e){e[e.BUY=0]="BUY",e[e.SELL=1]="SELL",e[e.CANCEL=2]="CANCEL",e[e.UPDATE=3]="UPDATE"}(r||(r={})),function(e){e[e.MARKET=0]="MARKET",e[e.LIMIT=1]="LIMIT"}(c||(c={})),function(e){e[e.ROD=0]="ROD",e[e.IOC=1]="IOC",e[e.FOK=2]="FOK"}(a||(a={}));var h="http://zj-lin.tw:8080/",y=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.post(h+"api/order",Object(f.a)(Object(f.a)({},t),{},{investorId:1,stockId:1})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.get(h+"api/display",{params:{stockId:1,page:'{"page":1,"pageSize":1}'}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.get(h+"api/display/tickRange",{params:{closedPrice:100}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var k=function(){var e=Object(i.useState)(a.ROD),t=Object(l.a)(e,2),n=t[0],s=t[1],u=Object(i.useState)(1),o=Object(l.a)(u,2),p=o[0],f=o[1],x=Object(i.useState)(),j=Object(l.a)(x,2),h=j[0],k=j[1],g=Object(i.useState)(),w=Object(l.a)(g,2),R=w[0],I=w[1];return Object(i.useEffect)((function(){setInterval(Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v().then(function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(l.a)(t.data.content,1),!(r=n[0])||0===r.tickRange.length){e.next=5;break}I(r.tickRange),e.next=7;break;case 5:return e.next=7,m().then((function(e){var t=e.data;I(t)}));case 7:k(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),100)}),[]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{style:{width:"100%",position:"sticky",height:"70px",background:"green",top:"0px",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(O.jsx)("input",{type:"number",name:"quantity",id:"quantity",value:p,onChange:function(e){var t=e.target.value;f(+t)}}),Object(O.jsxs)("select",{name:"timeRestriction",id:"timeRestriction",value:n,onChange:function(e){var t=e.target.value;s(+t)},children:[Object(O.jsx)("option",{value:a.ROD,children:"ROD"}),Object(O.jsx)("option",{value:a.IOC,children:"IOC"}),Object(O.jsx)("option",{value:a.FOK,children:"FOK"})]})]}),Object(O.jsx)("div",{style:{display:"flex",flexDirection:"row",padding:"40px"},children:[{b:"BUY",l:"buy"},{b:"SELL",l:"sell"}].map((function(e,t){var a=e.b,i=e.l;return Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1},children:[Object(O.jsxs)("button",{style:{flex:1,background:"red",textAlign:"center",display:"flex",flexDirection:"row",position:"sticky",top:"70px"},className:"market",onClick:Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({method:r[a],price:0,quantity:p,priceType:c.MARKET,timeRestriction:n});case 2:case"end":return e.stop()}}),e)}))),children:["buy"===i?Object(O.jsx)("div",{style:{flex:1,borderLeft:"1px solid black",order:2},children:h&&h.marketBuyQuantity||0}):Object(O.jsx)("div",{style:{flex:1,borderRight:"1px solid black"},children:h&&h.marketSellQuantity||0}),Object(O.jsxs)("div",{style:{flex:4},children:["MARKET ",a]})]}),R&&R.map((function(e,t){var s=e.price,u=e.buyQuantity,o=e.sellQuantity;return Object(O.jsxs)("button",{className:h&&h.matchPrice===s?"current":"",style:{display:"flex",flexDirection:"row",flex:1},onClick:Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({method:r[a],price:s,quantity:p,priceType:c.LIMIT,timeRestriction:n});case 2:case"end":return e.stop()}}),e)}))),children:["buy"===i?Object(O.jsx)("div",{style:{flex:1,borderLeft:"1px solid black",order:2},children:u}):Object(O.jsx)("div",{style:{flex:1,borderRight:"1px solid black"},children:o}),Object(O.jsx)("div",{style:{flex:4},children:s})]},t)}))]},t)}))})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},w=n(24);o.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(w.a,{children:Object(O.jsx)(k,{})})}),document.getElementById("root")),g()}},[[59,1,2]]]);
//# sourceMappingURL=main.2c74fd6c.chunk.js.map